<!DOCTYPE html>
<html>

    <head>
        <title> Bash scripting - set command  &middot; KLN </title>

        <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.80.0" />




<script src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">


<link rel="stylesheet" href="https://lforlinux.github.io/css/nix.css">





<link href="https://fonts.googleapis.com/css?family=Inconsolata%7COpen+Sans%7CConcert+One" rel="stylesheet">






    </head>

    <body>
        <header>
<nav class="navbar navbar-default navbar-fixed-top navbar-inverse font-header">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
      <a class="navbar-brand" id="green-terminal" href='https://lforlinux.github.io/'>
        kln@lforlinux ~ $
      </a>
		</div>

		
		<div class="collapse navbar-collapse" id="navbar-collapse-1">
			<ul class="nav navbar-nav navbar-right">
				<li>
					<a href='https://lforlinux.github.io/'>/home/kln</a>
        </li>
        
				
				
				<li class="dropdown">
                    
            		<a href="https://lforlinux.github.io/posts">~/blog</a>
            		
        		</li>
        		
				
				<li class="dropdown">
                    
            		<a href="http://kayelen.com/resume/">~/resume</a>
            		
        		</li>
        		

			</ul>
		</div>
	</div>
</nav>
</header>

        <div class="flex-wrapper">
            <div class="container wrapper">
                <h1><a href="https://lforlinux.github.io/posts/bash-set-e/">Bash scripting - set command </a></h1>
                <span class="post-date">2021-07-22 </span>
                <div class="post-content">
                    <h2 id="-bash-scripting---set-command-and-its-usage">ðŸ–¥ Bash scripting - set command and its usage</h2>
<hr>
<ul>
<li>In this post we will see what is set in bash scripting</li>
<li>We will also discuss when to use set -e.</li>
</ul>
<hr>
<h2 id="set-command">Set command</h2>
<p>Use the set command to set or unset values of shell options and positional parameters. You can change the value of shell attributes and positional parameters, or display the names and values of shell variables using set command.</p>
<h2 id="set--e">Set -e</h2>
<p>sets a shell option to immediately exit if any command being run exits with a non-zero exit code.
The script will return with the exit code of the failing command.</p>
<p>From the bash man page</p>
<p>set -e:</p>
<blockquote>
<p>Exit immediately if a pipeline (which may consist of a single simple command), a list, or a compound command (see SHELL GRAMMAR &gt; above), exits with a non-zero status.</p>
</blockquote>
<h2 id="set--e-usage">Set -e usage</h2>
<p>General bash script without set -e ( This script written to fail intentionaly)</p>
<pre><code>#!/bin/bash

echo &quot;a&quot;
sleep 2
echo &quot;b&quot;
sleep 2
echod &quot;c&quot;
sleep 2
echo &quot;d&quot;
</code></pre><p>Script execution</p>
<pre><code> kln@MacBook-Pro î‚° ~ î‚° bash check.sh
a
b
check.sh: line 9: echod: command not found
d
</code></pre><p>The above code exit code is 0. But the actual script failed in between.</p>
<pre><code> kln@MacBook-Pro î‚° ~ î‚° echo $?
0
</code></pre><p>So now we will make use of set -e and see it in action</p>
<pre><code>#!/bin/bash
  
set -e

echo &quot;a&quot;
sleep 2
echo &quot;b&quot;
sleep 2
echod &quot;c&quot;
sleep 2
echo &quot;d&quot;
       
</code></pre><pre><code>  kln@MacBook-Pro î‚° ~ î‚° bash check.sh
a
b
check.sh: line 9: echod: command not found
 âœ˜ kln@MacBook-Pro î‚° ~ î‚° echo $?      
127
</code></pre><p>So it&rsquo;s evident that with set -e sets a shell option to immediately exit if any command being run exits with a non-zero exit code.</p>

                </div>
                
                <div class="post-comments">
                    
                </div>
                
            </div>
            <footer class="footer text-center">
<p>Copyright &copy; 2023 K LEKSHMI NARAYAN -
</p>
</footer>

        </div>
    </body>
